{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","images/logo.svg","components/Header.js","components/Main.js","images/Vector_pen.png","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/InfoTooltipPopup.jsx","images/successfully.png","images/unsuccessful.png","components/PageWithForm.jsx","components/Login.jsx","components/Register.jsx","components/ProtectedRoute.jsx","utils/ApiUser.jsx","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","className","type","onClick","onCardDelete","src","link","alt","name","onCardClick","onCardLike","length","Header","href","target","logo","email","loggedIn","onLogout","to","linkText","Main","userDate","avatar","background","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","card","Footer","PopupWithForm","isOpen","onClose","title","id","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","placeholder","requiredminlength","maxLength","EditAatarPopup","urlAvatar","useRef","onUpdateAvatar","current","ref","required","AddPlacePopup","nameImage","setNameImage","urlImage","setUrlImage","ImagePopup","InfoTooltipPopup","isLuck","PageWithForm","text","Login","onLogin","password","data","setData","handleChange","Register","onRegister","ProtectedRoute","Component","component","apiUser","this","_baseUrl","_headers","dataUser","fetch","method","headers","body","JSON","stringify","then","_checkResponse","jwt","response","ok","json","Promise","reject","status","api","authorization","all","getItemsUser","getItemsCards","dataCard","idCard","isLike","dataAvatar","res","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setIsLuck","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserDate","history","useHistory","tokenCheck","localStorage","getItem","getToken","catch","err","console","log","handleInfoTooltipPopup","closeAllPopups","push","date","closeByEscape","key","document","addEventListener","removeEventListener","Provider","exact","path","enterUser","setItem","token","addUser","toggleLikeCard","newCard","state","c","deleteCardUser","filter","removeItem","editProfile","EditAvatarPopup","editAvatar","addCardForm","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.de3ca86f.chunk.js","sourcesContent":["import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = props.owner._id === currentUser._id;\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? 'element__delete_show' : ''}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = ( `element__like ${isLiked ? 'element__like_active' : ''}`);\r\n    \r\n    function handleLikeClick() {\r\n        props.onCardLike(props);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props);\r\n    }\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.name, props.link);\r\n    }\r\n\r\n    return(\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img className=\"element__foto\" src={props.link} alt={props.name} onClick={handleClick} />\r\n            <div className=\"element__lable\">\r\n                <p className=\"element__title\">{props.name}</p>\r\n                <div className=\"element__lable-likes\">\r\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                <p className=\"element__numder-likes\">{props.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n    return (\r\n        \r\n        <header className=\"header\">\r\n            <a href=\"/\" target=\"_self\" className=\"header__link\">\r\n                <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n            </a>\r\n            <div className=\"header__info\">\r\n                <p className=\"header__email\">{props.email}</p>\r\n                {props.loggedIn ? <button onClick={props.onLogout} className=\"header__button\">Выйти</button> : <Link to={props.link} className=\"header__text\">{props.linkText}</Link>}\r\n            </div>\r\n        </header>\r\n        \r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport buttonAvatar from '../images/Vector_pen.png';\r\nimport Card from './Card';\r\nimport Header from './Header';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return(\r\n        \r\n        <>\r\n            <Header\r\n                email={props.userDate}\r\n                link=\"/signin\"\r\n                linkText=\"Выйти\"\r\n                onLogout={props.onLogout}\r\n                loggedIn={props.loggedIn}\r\n            />\r\n            <main className=\"main\">\r\n                <section className=\"profile\">\r\n                    <img src={currentUser.avatar} alt=\"Аватарка\" className=\"profile__avatar\" />\r\n                    <button type=\"button\" background={buttonAvatar} className=\"profile__avatar-activ\" onClick={props.onEditAvatar}></button>\r\n                    <div className=\"profile-info\">\r\n                        <h1 className=\"profile-info__title\">{currentUser.name}</h1>\r\n                        <button type=\"button\" className=\"profile-info__button\" onClick={props.onEditProfile}></button>\r\n                        <p className=\"profile-info__text\">{currentUser.about}</p>\r\n                    </div>\r\n                    <button type=\"button\" className=\"profile__button\" onClick={props.onAddPlace}></button>\r\n                </section>\r\n                <section>\r\n                    <ul className=\"elements\">\r\n                        {props.cards.map(card => {return(\r\n                        <Card\r\n                            name={card.name}\r\n                            link={card.link}\r\n                            likes={card.likes}\r\n                            _id={card._id}\r\n                            key={card._id}\r\n                            owner={card.owner}\r\n                            onCardClick={props.onCardClick}\r\n                            onCardLike={props.onCardLike}\r\n                            onCardDelete={props.onCardDelete}\r\n                        />)})}\r\n                    </ul>\r\n                </section>\r\n            </main>\r\n        </>\r\n    )    \r\n}\r\n\r\nexport default Main;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\"","function Footer() {\r\n    return(\r\n        \r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n        \r\n    )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n    return(\r\n       \r\n        <div className={`popup popup_type_${props.name} ${props.isOpen}`}>\r\n            <div className=\"popup__content\">\r\n            <button type=\"button\" className=\"popup__button popup__button_profile popup__button-close\" onClick={props.onClose}></button>\r\n            <h2 className=\"popup__title\">{`${props.title}`}</h2>\r\n            <form name={`${props.name}`} className=\"form form_profile\" id={`${props.id}`} onSubmit={props.onSubmit}>\r\n                <fieldset className=\"form__container\">\r\n                {props.children}\r\n                <button type=\"submit\" className=\"form__button\">{props.buttonText}</button>\r\n                </fieldset>\r\n            </form>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            isOpen = {props.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {props.onClose}\r\n            name=\"edit-profile\"\r\n            title=\"Редактировать профиль\"\r\n            id=\"profileFormValidator\"\r\n            buttonText=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n            >\r\n              <input name=\"user_name\" value={name || ''} onChange={handleChangeName} id=\"user_name\" className=\"form__text form__text_edit_name\" type=\"text\" placeholder=\"Имя\" requiredminlength=\"2\" maxLength=\"40\" />\r\n              <span id=\"user_name-error\" className=\"form__input-error\"></span>\r\n              <input name=\"activity\" value={description || ''} onChange={handleChangeDescription} id=\"activity\" className=\"form__text form__text_edit_about-me\" type=\"text\" placeholder=\"Вид деятельности\" requiredminlength=\"2\" maxLength=\"200\" />\r\n              <span id=\"activity-error\" className=\"form__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAatarPopup(props) {    \r\n    const urlAvatar = React.useRef();\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: urlAvatar.current.value,\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            isOpen = {props.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {props.onClose}\r\n            name=\"edit-avatar\"\r\n            id=\"edit-avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonText=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n            >\r\n              <input name=\"url_avatar\" ref={urlAvatar} id=\"url_avatar\" className=\"form__text form__text_edit_about-me\" type=\"url\" placeholder=\"Ссылка на аватарку\" required />\r\n              <span id=\"url_avatar-error\" className=\"form__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [nameImage, setNameImage] = React.useState('');\r\n    const [urlImage, setUrlImage] = React.useState('');\r\n\r\n    function handleChangeNameImage(e) {\r\n        setNameImage(e.target.value);\r\n    }\r\n    function handleChangeUrlImage(e) {\r\n        setUrlImage(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: nameImage,\r\n            link: urlImage\r\n        })\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            isOpen = {props.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {props.onClose}\r\n            name = \"add-card\"\r\n            title = \"Новое место\"\r\n            id = \"cardFormValidator\"\r\n            buttonText = \"Сохранить\"\r\n            onSubmit = {handleSubmit}\r\n            >\r\n              <input name=\"image_name\" value={nameImage} onChange={handleChangeNameImage} id=\"image_name\" className=\"form__text form__text_edit_name\" type=\"text\" placeholder=\"Название\" requiredminlength=\"2\" maxLength=\"30\" />\r\n              <span id=\"image_name-error\" className=\"form__input-error\"></span>\r\n              <input name=\"url_image\" value={urlImage} onChange={handleChangeUrlImage} id=\"url_image\" className=\"form__text form__text_edit_about-me\" type=\"url\" placeholder=\"Ссылка на картинку\" required />\r\n              <span id=\"url_image-error\" className=\"form__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","function ImagePopup(props) {\r\n    return(\r\n        <div className={`popup popup_type_image ${props.isOpen}`}>\r\n            <div className=\"images-content\">\r\n            <button type=\"button\" className=\"images-content__button popup__button-close\" onClick={props.onClose}></button>\r\n            <img className=\"images-content__foto\" src={props.link} alt={props.name} />\r\n            <h2 className=\"images-content__title\">{props.name}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import successfully from './../images/successfully.png';\r\nimport unsuccessful from './../images/unsuccessful.png'\r\n\r\nfunction InfoTooltipPopup(props) {\r\n    return(\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen}`}>\r\n            <div className=\"tooltip\">\r\n            <button type=\"button\" className=\"tooltip__button popup__button-close\" onClick={props.onClose}></button>\r\n            <img className=\"tooltip__image\" src={props.isLuck ? successfully : unsuccessful} alt=\"галочка\" />\r\n            <p className=\"tooltip__title\">{props.isLuck ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltipPopup;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfBSURBVHgB7Z2NmZs4EIbfXAOXDnY6yHYQXQXZDkIHdx0sHSQdeK+CXCrwpoJLKlhfBdlUkPMsOB4E2GDzI4He51FMDKxBHzMa/SC9Yhm83qfbfZJ9elP+X8p02P+64bzdPj2b9K38/FqmZyLnFXHiKAR9y1HYMdhRCP2l/HwkMQpqfX/t03afvu/Tz5mS/vanfcoY76EalJAtWEXN9ukdhcWeQl3pjsLK/iu3D+mwv8ndCkf3LVRd/C3Nbt3yuE9/l587Ep1w+7ThtKU+lcdkjGtJt+VvPJS/ecq6N5x/EFeNo3DBbRmo+9RNC/MhFIKfus5/y2MSJY526ziIes5VzoFQCKmCtnmZjBXjaLYEdc0ficvdqSt/oF1ox4oQ2oXNCdNauyIUD2eTR9oQSeR9DX9SD56WIKyPUNxT00N8zwIRmq1Wn+olCesjNLvuJxZkzU1Wq4GJYz0IdbetefIXEaOW+YH605uzXnLq+fGBCBHq1Qd9gm9JCHVrjsplq4j+DWhkueSyti+aF5on0Yl8R728jbqcGRnNG79cviNQ3lO/2OSSz9Pk8d4TGL64UZUpASAELHISdxiEAEW+I4k7JEJd5NnKZKEaUCVxh0GoijxLLCPeRSRxh0WYOX+TuOMjVD2kNhxN0pbgNz+mqtB4aN5O2qz5J6kRY2r8xpDR8lyouoyPJKbCNmuqBsII+OVualueDs1rm/9bBuaeqpsQElPjl8eDuWqh6ppzEnORM4Kr3lB1zYl5sf3sV7tqR3LNoeGoauK4Aluwb0iEwgMDWHFGst5Q0ajaxkWOC7DWm5MIjZwrYqOM1NYcOldZsY3UohzWuRJyLiiLHansjYWLrNjWe1PkHD62nfqsXkLqCowNR7V162QfQUa1gzkRB1r+dmqjtgdmJGLB9hm3BltCCq5iRd2y1e6Xm/7NHOTM9iNpWqCYeKY6SVt22LACvzPbf5Poigai98zPZ7P9rukAW58SEl1QcQ/5NrfIQjWaruBIfb59eU/9Tcq5Rbb9B87usFHY2cpyovY+VigiP9BSXfpEqh515ZS4c4ucmWv4x+6wpp1ar9pR4X52THOMGRcailpbh/pOoo0+4mrmzmUoNi54qQ87OrSCrJy+4grzYbt6ndaD7ZP2g4SPipt3PHa3T38wbyPRN7MtKrDtffhKwhKbuHi/f6sCv2nZuXZiFFfZme3f9R8tdxsrxytmQzxlro/Di6lsoZyqSP3E1bwTwkLwqkpP5osb1ovGIn3FDXUm+orA9qJDY6oM1N9pm5o/JnGVWrtGqAIL0yxw0VfcB8J/N7qiaagCq3s5XNdYY7OF/uLGQPAC3zN+tCqcXwspRnGVoAXOOJ3RQzTiC/3EzYmLiqa1xukZEbpl/IbLrVlYtrhKRWB7szfMy5buGa/X3bfeLixfXKGaR8EILPTL/EO6H+nv58SJnazl5eWFrfnCMS9C+wpip9K5FqWmSbeXKK7iON6HalvJ0Iww0ECq7zrBKmDW8Ldue/6tnLjJON7Ly7Ad+3ZaTjgIl7lsrTMfgsW+4mbET46nZ2a+2BAe/uokXa1Z59Vcm7iKHUD5UqV0eIVygGRcZs1d0neWNZJ0C9WYKpZBd0K/alRXcZfWRdrYrvFkvrwhbHKSuG3YKtKT3RHbwHfhOpet5y5xcEPG8R5fIujD24VfzEFvCZ8dxRioS96C3JXnLnGAodXu0e5wtJh2BPSpM+u9CcvFejXn77SZdENcCOdd9tLFFc4Ey1u8+lOE5KxTXCXDK399Ok3kEQF3rHPZH2ugWdMBrRN5RIhQ3HCIw1rHQKhqJ20HLsFNW2J+SPuQ0dH7LsVNrw07cDA7deAgE00nJsVfjUXOnfBgDv5IInQ2HPXadDnBUa1PraUcixGhar2u64k22MpJhIpdKLRXV68jWXHoCNX6fkZP7Mk5idC458r+A0ey4lARqmVvxoXYsrhThJaYBBs5X2S9BxwXRmmJ0RAG1sRacaiD8taEjY0G8apCWl42FGxgNehK4P468mmylukRqhrkDIx11eomUlQ9Hf4S71cFVm0IVVedlrybDttiNahr9vFd9RL6jENHX8GZNM/9d4VSeTweflfgJL17/rRDo7qMFSPUy93J4h5hnQPbpkIIIH/9d2+TyMMgVMWd1UPesb7xx2Mi1Afw3zEzGUnkIRDq4mYEQkYS+RqEgMU9kFEXOVWhztM0j0hGoGh54V9sagxpx2/E0Lybvcw9h1B3N3bmm0SRF7b5MTqPJ9RFTuVyQdOkbNG+Q9U0BdI960Xv3c8PzaOovVvTG/hrs2ZHfeJxzZPFxCdC8xv4G5YtdNtCH1sWet85zfNpqOsSloMKq/fk3+uirLYNoXlGWbXwD8QtdJuwi7baNhztE6eoW4upkcRRPJxtwjpWTEa70IdldYTwUGtVd6sCNl273pMj8YuM00vcbJlfbOG0qMliO+A4P+u7Woe68YxxXbmUv7Hh9Dxc38tjHIHxinARigx7z/mMe6aYmlA/dYHkXZmey7RrOOc1xwYGMemG4qERzjdAPO7TZ4oH8pnExQiFJX2i/1T/Qyb97S2Fm46i9SlkCz6Fo7CytxytbQx2FJ7hS/n5SGTEKrCPWtNtmXT7DUcXrEkazjm4b2VXph8UQu44uvyo+R/5BrK0SFqXpAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import { Link } from 'react-router-dom';\r\n\r\nfunction PageWithForm(props) {\r\n    return (\r\n        <div className=\"page-form\">\r\n            <h2 className=\"page-form__title\">{`${props.title}`}</h2>\r\n            <form name={`${props.name}`} className=\"form\" onSubmit={props.onSubmit}>\r\n                <fieldset className=\"form__container\">\r\n                {props.children}\r\n                <button type=\"submit\" className=\"form__button form__button_page\">{props.buttonText}</button>\r\n                </fieldset>\r\n            </form>\r\n            <p className=\"page-form__text\">{props.text} <Link to={`${props.link}`} className=\"page-form__text\">{props.linkText}</Link></p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageWithForm;","import React from \"react\";\r\nimport PageWithForm from \"./PageWithForm\";\r\nimport Header from \"./Header\";\r\n\r\nfunction Login({ onLogin }) {\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    function handleChange(e) {\r\n        const { name, value } = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { email, password } = data;\r\n        onLogin({ email, password });\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Header link = \"/signup\" linkText = \"Регистрация\" />\r\n            <PageWithForm\r\n                title = \"Вход\"\r\n                buttonText = \"Войти\"\r\n                onSubmit = {handleSubmit}\r\n            >\r\n                <input name=\"email\" value={data.email || ''} onChange={handleChange} className=\"form__text form__text_page\" type=\"email\" placeholder=\"Email\" requiredminlength=\"2\" maxLength=\"40\" />\r\n                {/* <span id=\"user_name-error\" className=\"form__input-error\"></span> */}\r\n                <input name=\"password\" value={data.password || ''} onChange={handleChange} className=\"form__text form__text_page\" type=\"password\" placeholder=\"Пароль\" requiredminlength=\"2\" maxLength=\"200\" />\r\n                {/* <span id=\"activity-error\" className=\"form__input-error\"></span> */}\r\n            </PageWithForm>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport PageWithForm from \"./PageWithForm\";\r\nimport Header from \"./Header\";\r\n\r\nfunction Register({ onRegister }) {\r\n    const [data, setData] = React.useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    function handleChange(e) {\r\n        const { name, value } = e.target;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { email, password } = data;\r\n        onRegister({ email, password });\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Header link = \"/signin\" linkText = \"Войти\" />\r\n            <PageWithForm\r\n                title = \"Регистрация\"\r\n                buttonText = \"Зарегистрироваться\"\r\n                text = \"Уже зарегистрированы?\"\r\n                link = \"/signin\"\r\n                linkText = \"Войти\"\r\n                name = \"register\"\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <input id=\"email\" name=\"email\" value={data.email || ''} onChange={handleChange} className=\"form__text form__text_page\" type=\"email\" placeholder=\"Email\" requiredminlength=\"2\" maxLength=\"40\" />\r\n                {/* <span id=\"email-error\" className=\"form__input-error\"></span> */}\r\n                <input id=\"password\" name=\"password\" value={data.password || ''} onChange={handleChange} className=\"form__text form__text_page\" type=\"password\" placeholder=\"Пароль\" requiredminlength=\"3\" maxLength=\"20\" />\r\n                {/* <span id=\"password-error\" className=\"form__input-error\"></span> */}\r\n            </PageWithForm>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n// этот компонент принимает другой компонент в качестве пропса\r\n// он также может взять неограниченное число пропсов и передать их новому компоненту\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? (<Component {...props} />) : (<Redirect to=\"/signin\" />)\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","class ApiUser {\r\n    constructor() {\r\n        this._baseUrl = 'https://auth.nomoreparties.co';\r\n        this._headers = {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    // регистрация на сервисе\r\n    addUser (dataUser) {\r\n        return fetch (`${this._baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                email: dataUser.email,\r\n                password: dataUser.password                \r\n            })\r\n        })\r\n        .then (this._checkResponse)\r\n    }\r\n\r\n    // авторизация на сервисе\r\n    enterUser (dataUser) {\r\n        return fetch (`${this._baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                email: dataUser.email,\r\n                password: dataUser.password\r\n                \r\n            })\r\n        })\r\n        .then (this._checkResponse)\r\n    }\r\n\r\n    // проверка валидности токена и получения email\r\n    getToken ({ jwt }) {\r\n        return fetch (`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                \"Authorization\" : `Bearer ${jwt}`\r\n            }\r\n        })        \r\n        .then (this._checkResponse)\r\n    }\r\n\r\n    _checkResponse (response) {\r\n        return response.ok ? response.json() : Promise.reject(`Ошибка: ${response.status}`);\r\n    }\r\n}\r\n\r\nconst apiUser = new ApiUser();\r\n\r\nexport default apiUser;","class Api {\r\n    constructor() {\r\n        this._baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-26';\r\n        this._headers = {\r\n            authorization: 'd3e97d43-b7f6-462d-a435-bd7e94d9d5b6',\r\n            'Content-Type': 'application/json'\r\n          };\r\n    }\r\n\r\n    // получаем данные пользователя\r\n    getItemsUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // получаем данные карточек\r\n    getItemsCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    getAllNeededData() {\r\n        return Promise.all([this.getItemsUser(), this.getItemsCards()])\r\n    }\r\n\r\n    // редактирование профиля\r\n    editProfile(dataUser) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: dataUser.name,\r\n                about: dataUser.about\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // добавление карточки\r\n    addCardForm(dataCard) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: dataCard.name,\r\n                link: dataCard.link\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // удаление карточки\r\n    deleteCardUser(idCard) {\r\n        return fetch(`${this._baseUrl}/cards/${idCard}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // добавление - удаление лайка карточки    \r\n    toggleLikeCard(idCard, isLike) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${idCard}`, {\r\n            method: isLike ? 'DELETE' : 'PUT',\r\n            headers: this._headers,\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // редактирование аватар\r\n    editAvatar(dataAvatar) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: dataAvatar.avatar\r\n              })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","import '../index.css';\r\nimport React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport InfoTooltipPopup from './InfoTooltipPopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport apiUser from '../utils/ApiUser';\r\nimport api from '../utils/Api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState(false);\r\n  const [isLuck, setIsLuck] = React.useState('');\r\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false, name: '', link: ''});  \r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [userDate, setUserDate] = React.useState({\r\n    _id: '',\r\n    email: ''\r\n  });\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    if(loggedIn === true) {\r\n      history.push('/');\r\n    }\r\n  }, [loggedIn, history]);\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if(isLuck === true) {\r\n      history.push('/signin');\r\n    }\r\n  }, [isLuck, history]);\r\n  \r\n  function handleRegister({ email, password }) {\r\n    apiUser.addUser({ email, password })\r\n    .then((data) => {\r\n      const { _id, email } = data.data;\r\n      setUserDate({\r\n        _id,\r\n        email\r\n      });\r\n      handleInfoTooltipPopup(true);\r\n    })\r\n    .catch((err) => {\r\n      handleInfoTooltipPopup(false);\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n  \r\n  function handleLogin({ email, password }) {\r\n    apiUser.enterUser({ email, password })\r\n    .then((data) => {\r\n      localStorage.setItem('jwt', data.token);\r\n      setLoggedIn(true);\r\n      setUserDate({\r\n        email\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n\r\n  function tokenCheck() {\r\n    const jwt = localStorage.getItem('jwt');\r\n\r\n    if(jwt) {\r\n      apiUser.getToken({ jwt })\r\n      .then((data) => { \r\n        const { _id, email } = data.data;\r\n        setUserDate({\r\n          _id,\r\n          email\r\n        });\r\n        setLoggedIn(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err); // \"Что-то пошло не так: ...\"\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('jwt');\r\n    setUserDate({\r\n      _id: '',\r\n      email: ''\r\n    });\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  function handleInfoTooltipPopup(isLuck) {\r\n    setIsLuck(isLuck);\r\n    setIsInfoTooltipPopupOpen(true);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getItemsUser()\r\n    .then((date) => {\r\n        setCurrentUser(date);\r\n    })\r\n    .catch((err) => {\r\n        console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }, []);\r\n\r\n  React.useEffect(() => {        \r\n    api.getItemsCards()\r\n    .then((date) =>{            \r\n        setCards(date);\r\n    })\r\n    .catch((err) => {\r\n        console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);    \r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.toggleLikeCard(card._id, isLiked)\r\n    .then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCardUser(card._id)\r\n    .then(() => {\r\n      setCards((cards) => cards.filter((c) => c._id !== card._id));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n    \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(name, link) {\r\n    setSelectedCard({\r\n      isOpen: true,\r\n      name: name,\r\n      link: link,\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', closeByEscape);\r\n    \r\n    return () => document.removeEventListener('keydown', closeByEscape);\r\n  }, []);\r\n\r\n  function closeAllPopups(){\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({\r\n      isOpen: false,\r\n      name: '',\r\n      link: '',\r\n    });\r\n    setIsInfoTooltipPopupOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser(props) {\r\n    api.editProfile(props)\r\n    .then((date) => {\r\n      setCurrentUser(date);\r\n      closeAllPopups();     \r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(props) {\r\n    api.editAvatar(props)\r\n    .then((date) => {\r\n      setCurrentUser(date);\r\n      closeAllPopups();     \r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n  \r\n  function handleAddPlaceSubmit(props) {\r\n    api.addCardForm(props)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();     \r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"root\">\r\n      <CurrentUserContext.Provider value = {currentUser}>\r\n        {/* <Header /> */}\r\n        <Switch>          \r\n          <Route exact path=\"/signin\">\r\n            <Login onLogin={handleLogin} tokenCheck={tokenCheck} />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n          <ProtectedRoute\r\n            path = \"/\"\r\n            loggedIn = {loggedIn}\r\n            component = {Main}\r\n            onEditAvatar = {handleEditAvatarClick}\r\n            onEditProfile = {handleEditProfileClick}\r\n            onAddPlace = {handleAddPlaceClick}\r\n            onCardClick = {handleCardClick}\r\n            cards = {cards}\r\n            onCardLike = {handleCardLike}\r\n            onCardDelete = {handleCardDelete}\r\n            onLogout = {handleLogout}\r\n            userDate = {userDate.email}\r\n          />\r\n        </Switch>\r\n        <Footer />        \r\n        <EditProfilePopup\r\n            isOpen = {isEditProfilePopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onUpdateUser = {handleUpdateUser}/>\r\n        <EditAvatarPopup\r\n            isOpen = {isEditAvatarPopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onUpdateAvatar = {handleUpdateAvatar} />\r\n        <AddPlacePopup\r\n            isOpen = {isAddPlacePopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onAddPlace = {handleAddPlaceSubmit} />        \r\n        <PopupWithForm\r\n            name = \"delete-card\"\r\n            title = \"Вы уверены?\"\r\n            buttonText = \"Удалить\" />\r\n        <ImagePopup\r\n            isOpen = {selectedCard.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {closeAllPopups}\r\n            name = {selectedCard.name}\r\n            link = {selectedCard.link} />\r\n        <InfoTooltipPopup\r\n            isOpen = {isInfoTooltipPopupOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {closeAllPopups}\r\n            name = \"tooltipe\"\r\n            isLuck = {isLuck} />\r\n      </CurrentUserContext.Provider>   \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}